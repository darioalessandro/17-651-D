\documentclass{article}
\usepackage{verbatim,indentfirst,amsmath,amsthm,amssymb,latexsym,enumerate,amssymb,zed-csp}
\usepackage[usenames,dvipsnames]{xcolor}

\newcommand{\revise}[1] {\textcolor{red} {#1}} 				% Text to revise


\input{handout}
\renewcommand{\implies}{\Rightarrow}
\renewcommand{\iff}{\Leftrightarrow}
\newcommand{\define}{==}
\begin{document}

\homework{}{24 September 2018}{Homework \#4: \\[10pt]
Structures, Equational Reasoning, and Induction }{}

\begin{enumerate}[\bf I.]
\item \textbf{Sets, Relations, and Functions}
\begin{enumerate}[1.]
\item Use set comprehension to define the set $\mathit{SumOfSquares}$
containing all the natural numbers that can be expressed as the sum
$a^2 + b^2$ where $a$ and $b$ are natural numbers. \\
$SumOfSquares == \{x: \mathbb{N} | (\exists a : \mathbb{N}) (\exists b : \mathbb{N}) \bullet  x = a^2 + b^2 \}$ \\

\item Write out in full the powersets of each of the following.
\begin{enumerate}[a.]
\item $\mathbb{P}\{7,1\} = \{\emptyset, \{1\}, \{7\}, \{7,1\}\}$
\item $\mathbb{P}\{5\}$ = $\{\emptyset, \{5\}\}$
\item $\mathbb{P} \emptyset$ = $\{\emptyset\}$
\item $\mathbb{P}\{\emptyset\}$ = $\{\emptyset, \{\emptyset\}\}$
\end{enumerate}
\item Write out in full the following Cartesian products.
\begin{enumerate}[a.]
\item $\{4,2\}\times\{2,4\} = \{(4,2), (4,4), (2,2), (2,4)\}$
\item $\{0\}\times\emptyset = \emptyset$
\item $\{1,2\}\times\{a\} = \{(1,a), (2,a) \}$
\item $\{\emptyset\}\times\{a\} = \{\emptyset \}$
\end{enumerate}

\item Suppose $R \define 2 \upto 5$ and $S == 4 \upto 6$. Enumerate the elements of the following sets.

\begin{enumerate}[a.]
\item $R \cup S = \{2,3,4,5,6\}$
\item $R \cap S = \{4, 5\}$
\item $R \setminus S = \{2,3\}$
\item $S \setminus R = \{6\}$
\item $S \cross R = \{(4,2), (4,3), (4,4), (4,5), (5,2), (5,3), (5,4), (5,5), (6,2), (6,3), (6,4), (6,5)\}$
\end{enumerate}

\item Let $S$ be the set of numbers from 1 to 12 inclusive. Let $R$ be a relation, such that
$R:S\leftrightarrow S$ and such that $x$ is related to $y$ exactly when
$y$ is greater than the square of $x$ but less than the square of
$x+1$. Provide an axiomatic definition for $R$. \\
(Note: be sure to check your notation and formatting --- refer to page 152 in GWC10.)

\item Suppose $\mathit{Let}$ and $\mathit{Num}$ are defined as
follows:
\begin{eqnarray*}
\mathit{Let} & \define & \{a,b,c,d,e\}\\
\mathit{Num} & \define & \{1,2,3,4,5\}
\end{eqnarray*}
\begin{enumerate}[a.]
\item Give an example of each of the following:
\begin{enumerate}[i.]
\item A function whose declaration is $\mathit{Let\rightarrow Num} \\f1 == \{ a \mapsto 1, b \mapsto 2, c \mapsto 3, d \mapsto 4, e \mapsto 5 \}$
\item A function whose declaration is $\mathit{Let\rightarrow\!\!\!\!\shortmid ~Num} \\f2 == \{ a \mapsto 1, b \mapsto 2, c \mapsto 3\}$
\item A total injection from \emph{Let} to \emph{Num}\\
$f3 == \{ a \mapsto 1, b \mapsto 2, c \mapsto 3, d \mapsto 4, e \mapsto 5 \}$\\  
\end{enumerate}
\item Is it possible to give an example of a total injection from \emph{Let} to $\{1,2,3,4\}$? If so, provide one; if not, explain why not. \\
No because the number of values in the source is larger that the target and we can not map more than one source element to the same target because that will violate the injection rule. 

\end{enumerate}
\end{enumerate}
\clearpage

\item \textbf{Proof: Equational Reasoning} \\[8pt]
You may use any of the following theorems in your equational proofs:

\begin{tabular}{llll}
$\vdash p \land \mathit{true} ~~\iff~~ p$   &$\land$-True\\
$\vdash p \land \mathit{false} ~~\iff~~ \mathit{false}$
&$\land$-False\\
$\vdash p \lor \mathit{true} ~~\iff~~ \mathit{true}$ &$\lor$-True\\
$\vdash p \lor \mathit{false} ~~\iff~~ p$ & $\lor$-False\\
$\vdash p \lor \neg p$  &Excluded Middle\\
$\vdash p \lor q ~~\iff~~ q \lor p$ & $\lor$-Commutativity\\
$\vdash p \land q ~~\iff~~ q \land p$ &$\land$-Commutativity\\
$\vdash (p \lor q) \lor r ~~\iff~~ p \lor (q \lor r)$ &$\lor$-Associativity\\
$\vdash (p \land q) \land r ~~\iff~~ p \land (q \land r)$
&$\land$-Associativity\\
$\vdash p \lor (q \land r) ~~\iff~~ (p \lor q) \land (p \lor r)$
&$\lor\land$-Distributivity\\
$\vdash p \land (q \lor r) ~~\iff~~ (p \land q) \lor (p \land r)$
&$\land\lor$-Distributivity\\
$\vdash p \implies q ~~\iff~~ \neg p \lor q$ &$\implies$-Alternative\\
$\vdash p \implies q ~~\iff~~ \neg q \implies \neg p$
&Contrapositives\\
$\vdash \neg\neg p ~~\iff~~ p$   &Double Negation\\
$\vdash \neg(p \land q) ~~\iff~~ \neg p \lor \neg q$&De Morgan\\
$\vdash \neg(p \lor q) ~~\iff~~ \neg p \land \neg q$& De Morgan\\
$\vdash x\in\emptyset ~~\iff~~ \mathit{false}$& $\emptyset$ Membership\\
\end{tabular}
\begin{enumerate}[1.]\setcounter{enumii}{6}
\item Prove in equational style the following laws for set union:

\begin{enumerate}[a.]
\item $S\cup T=T\cup S$ \\
  $\iff$ [Definition of $\cup$] \\
  $x \in S \lor x \in T $ \\
  $\iff$ [$\lor$ commutative]\\
  $ x \in T \lor x \in S $ \\
  Hence, $ x \in S \lor x \in T \iff x \in T \lor x \in S $ \\
  Since x was arbitrary, we have $\exists-Intro$ \\
  $\exists x:T \bullet (x \in S \lor x \in T \iff x \in T \lor x \in S )$ \\
  By the definition of set equality \\
  $ S \cup T= T\cup S$ QED \\
  
\item $S\cap\emptyset= \emptyset$ \\
  $\iff$ [Definition of $\cup$] \\
  $x \in S \land x \in \emptyset $ \\
  $\iff$ [$emptyset$ Membership]\\
  $ x \in T \land false $ \\
  $\iff$ [Applying $\land truth tables$] \\
  $false = {\emptyset}$ QED\\ 
  
  
\end{enumerate}
(\textsc{Hint}: To prove $S=T$ show $\forall x: U \bullet x \in S\Leftrightarrow x\in T$, where U is the type of elements in sets $S$ and $T$.)
\item Prove the following theorem in equational style:
$$ \vdash \neg(\neg p \implies (q\land r))~~\iff~~(\neg p\land \neg q)\lor(\neg p\land\neg r)$$

\end{enumerate}

\item \textbf{Sequences}


\begin{enumerate}[1.]\setcounter{enumii}{8}

\item Define the following sequences by enumeration:
\begin{enumerate}[a.]
\item $Threes$: natural numbers smaller than 18 that are divisible by 3. \\
  Using GWC10 notation for seq enums definition: \\
  $Threes-= \{3 , 6 ,  9 , 12 , 15\}$ \\
\item  $Twos$: natural numbers smaller than 20 that are divisible by 2. \\
  Using GWC10 notation for seq enums definition: \\:
  $Twos== \{2 , 4 , 6 , 8 , 10 , 12 , 14 , 16 , 18\}$ \\
\end{enumerate}

\item Given the above, what are each of the following:
\begin{enumerate}[a.]
\item $Threes \cup Twos$ \\
  $Threes \cup Twos$ = $<2,3,4,6,8,9,10,12,14,15,16,18 >$ \\
\item $Threes \cap Twos$ \\
  $Threes \cap Twos$ = $<6, 12>$ \\
\item $\dom Threes == \{1, 2 ,3 ,4 ,5 \}$ \\
  To get the domain of a sequence, we just need to get the indexes from 1 up to the cardinality of the sequence. \\
\item $\ran Threes == \{3 ,6 ,9 ,12 ,15\}$ \\
\item $\dom Twos \dres Threes$ \\
  $\dres$ is the domain restrictor operator, informally, the restricted relation contains those \\
  elements from Three whose first component appears in Two. \\
  $dom Twos == \{1,2,3,4,5,6,7,8,9,10,11,12\}$\\
  $\dom Twos \dres Threes == \{3, 6, 9, 12, 15\}$\\
\item $(5 \upto 8)\dres (Threes \frown Twos)$\\
  $Threes \frown Twos == <3,6,9,12,15,2,4,6,8,10,12,14,16,18>$
  $\dres is asking us to filter elements from 5 \upto 8$ \\
  $(5 \upto 8)\dres (Threes \frown Twos) == <15,2,4,5>$
(\textsc{Note}: $\frown$ is the concatenation operator).
\end{enumerate}
\end{enumerate}


\item \textbf{Proof: Natural Induction} \\[8pt]
Prove the following claim by induction over the natural numbers:
\[\displaystyle 0^2 + 1^2 + 2^2 + ... + n^2 = \frac{n( n + 1 )( 2n + 1 )}{6}\] \\
\textbf{Base case:}\\
$P(0) = \frac{0} {6} = 0 $ \\
$0^2 = 0$ \\
\textbf{Inductive step} We assume that $k \in \mathbb{N}$ and P(k) holds. We then show that P(k+1) holds, that is $0^2 + 1^2 + 2^2 + ... + k + (k + 1)^2 = \frac{(k+1)( (k+1) + 1 )( 2(k+1) + 1 )}{6}$
\\
\begin{tabular}{l ll lll}
     $0^2 + 1^2 + 2^2 + ... + k + (k + 1)^2 = \frac{(k+1)( (k+1) + 1 )( 2(k+1) + 1 )}{6}$  &    &  \\
     = &   & [definition of size] \\
     1 + size(t1) + size(t2) & & \\
     = &   & [induction hypothesis] \\
     1 + size(mirror(t2)) + size(mirror((t1)) & & \\
     = & & [definition of mirror] \\
     1 + size(node(mirror(t2), mirror(t1))) + size(node(mirror(t1), mirror(t2))) & & \\
     not sure what to do after this... \\
\end{tabular} \\

\item \textbf{Proof: Structural Induction} \\[8pt]
Consider the definition of binary trees in Chapter 7.
\begin{enumerate}
\item Show that
\[\forall t: TREE \bullet leaves(t) = nodes(t) + 1\]
\item Define a $mirror$ function that recursively swaps the branches of a tree. \\
  The idea of this function is that it recursively calls mirror swapping t1 and t2 \\
  every time that it finds a node. If it finds a leaf it just returns. \\
  \\
  $ mirror: TREE \rightarrow TREE $\\
  --------------------------------------- \\
  $\forall t1,t2 : TREE \bullet$\\
  $leaf | node <<mirror(t2),mirror(t1)>>$ \\
\item Using the definition of $mirror$  show
that
\[\forall t: TREE \bullet size(mirror(t)) = size(t)\] \\
Using the definition of size(t) provided in GWC10: \\
\\
$ size: TREE \rightarrow \mathbb{N} $\\
---------------------------------------- \\
$ \forall t1,t2: TREE \bullet $\\
$ size (leaf) = 1 \land $\\
$ size (node(t1,t2) = 1 + size(t1) + size(t2) $ \\
\\
\textbf{Proof:}\\
\textbf{Base Case:} Show the property holds for leaf, that is, size(leaf) = size(mirror(leaf)) \\
\\
\begin{tabular}{l ll lll}
     size(leaf) &    &  \\
     = &   & [definition of size] \\
     1 & & \\
     = &   & [definition size(mirror(leaf))] \\
     size(mirror(leaf)) & &  \\
\end{tabular} \\
\\
\textbf{Induction case:} Assume that the property holds for trees t1 and t2, that is size(t1) = size(mirror(t2)), and size(t2) = size(mirror(t1)). Show that it holds for node(t1,t2) \\
\\
\begin{tabular}{l ll lll}
     size(node(t1,t2)) &    &  \\
     = &   & [definition of size] \\
     1 + size(t1) + size(t2) & & \\
     = &   & [induction hypothesis] \\
     1 + size(mirror(t2)) + size(mirror((t1)) & & \\
     = & & [definition of mirror] \\
     1 + size(node(mirror(t2), mirror(t1))) + size(node(mirror(t1), mirror(t2))) & & \\
     not sure what to do after this... \\
\end{tabular} \\
\\

\item Using the definition of $mirror$ show that
\[\forall t: TREE \bullet mirror(mirror(t)) = t\]
\end{enumerate}
(\textsc{Hint}: use structural induction over trees.)
\\
\textbf{Proof:}\\
\textbf{Base Case:} Show the property holds for leaf, that is, leaf = mirror(leaf) \\
\\
\begin{tabular}{l ll lll}
     leaf &    &  \\
     = &   & [definition mirror(leaf)] \\
     mirror(leaf) & &  \\
\end{tabular} \\
\\
\textbf{Induction case:} Assume that the property holds for trees t1 and t2, that is node(t1, t2) = node(mirror(t2), mirror(t1)) \\
\\
\begin{tabular}{l ll lll}
     node(t1,t2) &    &  \\
     = &   & [definition of mirror] \\
     mirror(node(t1, t2)) & & \\
     = &   & [applying mirror function to node] 
     node(mirror(t2), mirror(t1)) & & \\
     not sure what to do after this... \\
\end{tabular} \\
\\

\end{enumerate}

\end{document}
